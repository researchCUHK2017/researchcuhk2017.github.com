var hours = ['12a', '1a', '2a', '3a', '4a', '5a', '6a',
    '7a', '8a', '9a','10a','11a',
    '12p', '1p', '2p', '3p', '4p', '5p',
    '6p', '7p', '8p', '9p', '10p', '11p'];
var days = ['Wednesday', 'Tuesday', 'Monday', 'Sunday', 'Saturday', 'Friday', 'Thursday'];

var data = [[0, 0, 731], [0, 1, 329], [0, 2, 225], [0, 3, 191], [0, 4, 267], [0, 5, 2070], [0, 6, 10701], [0, 7, 28200], [0, 8, 28283], [0, 9, 13312], [0, 10, 9044], [0, 11, 13450], [0, 12, 15834], [0, 13, 12003], [0, 14, 9397], [0, 15, 9683], [0, 16, 13094], [0, 17, 23347], [0, 18, 25568], [0, 19, 18397], [0, 20, 12569], [0, 21, 8986], [0, 22, 4968], [0, 23, 1920], [1, 0, 719], [1, 1, 317], [1, 2, 194], [1, 3, 181], [1, 4, 283], [1, 5, 1967], [1, 6, 10133], [1, 7, 27286], [1, 8, 26671], [1, 9, 13495], [1, 10, 10036], [1, 11, 14612], [1, 12, 17280], [1, 13, 12850], [1, 14, 10608], [1, 15, 11338], [1, 16, 13668], [1, 17, 24010], [1, 18, 26407], [1, 19, 17475], [1, 20, 12827], [1, 21, 10708], [1, 22, 6476], [1, 23, 2669], [2, 0, 979], [2, 1, 307], [2, 2, 202], [2, 3, 161], [2, 4, 255], [2, 5, 1913], [2, 6, 10201], [2, 7, 26601], [2, 8, 26190], [2, 9, 13029], [2, 10, 9732], [2, 11, 14282], [2, 12, 17544], [2, 13, 12933], [2, 14, 10831], [2, 15, 11498], [2, 16, 13622], [2, 17, 21553], [2, 18, 23322], [2, 19, 17318], [2, 20, 12309], [2, 21, 10963], [2, 22, 6899], [2, 23, 2529], [3, 0, 943], [3, 1, 437], [3, 2, 257], [3, 3, 209], [3, 4, 277], [3, 5, 1751], [3, 6, 4922], [3, 7, 10299], [3, 8, 14048], [3, 9, 12255], [3, 10, 12148], [3, 11, 13207], [3, 12, 14171], [3, 13, 12991], [3, 14, 12921], [3, 15, 13027], [3, 16, 14891], [3, 17, 17317], [3, 18, 18342], [3, 19, 16664], [3, 20, 14182], [3, 21, 11820], [3, 22, 5953], [3, 23, 2249], [4, 0, 924], [4, 1, 462], [4, 2, 262], [4, 3, 179], [4, 4, 232], [4, 5, 1365], [4, 6, 3871], [4, 7, 8562], [4, 8, 12459], [4, 9, 11500], [4, 10, 14395], [4, 11, 15817], [4, 12, 15112], [4, 13, 13667], [4, 14, 14558], [4, 15, 15205], [4, 16, 17086], [4, 17, 19464], [4, 18, 18942], [4, 19, 17577], [4, 20, 14737], [4, 21, 11395], [4, 22, 6693], [4, 23, 2130], [5, 0, 843], [5, 1, 356], [5, 2, 193], [5, 3, 147], [5, 4, 263], [5, 5, 2007], [5, 6, 10244], [5, 7, 25995], [5, 8, 24864], [5, 9, 11819], [5, 10, 8505], [5, 11, 15038], [5, 12, 18543], [5, 13, 13439], [5, 14, 11200], [5, 15, 12109], [5, 16, 15647], [5, 17, 25824], [5, 18, 28085], [5, 19, 20981], [5, 20, 15194], [5, 21, 11626], [5, 22, 5007], [5, 23, 1625], [6, 0, 619], [6, 1, 293], [6, 2, 198], [6, 3, 157], [6, 4, 249], [6, 5, 1868], [6, 6, 10109], [6, 7, 27215], [6, 8, 26369], [6, 9, 13569], [6, 10, 10403], [6, 11, 15194], [6, 12, 18129], [6, 13, 13661], [6, 14, 11044], [6, 15, 11583], [6, 16, 15860], [6, 17, 25994], [6, 18, 28229], [6, 19, 21136], [6, 20, 15943], [6, 21, 12153], [6, 22, 6887], [6, 23, 1857]];

data = data.map(function (item) {
    return [item[1], item[0], item[2]];
});

var chart_map_trip = echarts.init(document.getElementById('chart-map-trip'));

var option_map_trip = {
    title: {
        text: 'The Map of Mobike Trips in One Week'
    },
    legend: {
        data: ['Number of trips'],
        left: 'right'
    },
    tooltip: {
        position: 'top',
        formatter: function (params) {
            return params.value[2] + ' times in ' + hours[params.value[0]] + ' of ' + days[params.value[1]];
        }
    },
    grid: {
        left: 2,
        bottom: 10,
        right: 10,
        containLabel: true
    },
    xAxis: {
        type: 'category',
        data: hours,
        boundaryGap: false,
        splitLine: {
            show: true,
            lineStyle: {
                color: '#999',
                type: 'dashed'
            }
        },
        axisLine: {
            show: false
        }
    },
    yAxis: {
        type: 'category',
        data: days,
        axisLine: {
            show: false
        }
    },
    series: [{
        name: 'Number of trips',
        type: 'scatter',
        symbolSize: function (val) {
            return val[2] * 0.0012;
        },
        data: data,
        animationDelay: function (idx) {
            return idx * 5;
        }
    }]
};

chart_map_trip.setOption(option_map_trip);